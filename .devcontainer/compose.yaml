services:
    app:
        build:
            context: ..
            dockerfile: .devcontainer/dockerfile
        command: sleep infinity
        env_file: .env
        volumes:
            - ..:/app:cached
            - venv:/app/backend/.venv:cached
            - node_modules:/app/frontend/node_modules:cached

    redis:
        image: redis:8.2-alpine

    ollama:
        build:
            context: ../ollama
            dockerfile: dockerfile

volumes:
    venv:
    node_modules: